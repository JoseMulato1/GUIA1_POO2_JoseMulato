using System;
using System.Linq;
using System.IO;
using System.Text;
using System.Collections;
using System.Collections.Generic;

class Solution
{
    static void Main(string[] args)
    {
        int L = int.Parse(Console.ReadLine());
        int H = int.Parse(Console.ReadLine());
        string T = Console.ReadLine();
        char[] introducirTexto = T.ToCharArray();
        var asciiletras = new List<string>();
        

        for (int i = 0; i < H; i++)
        {
            string Leer = Console.ReadLine();
            int fila = 0;
            for (int j=0; j < Leer.Length/L; j++)
            {
               
                if (i == 0)
                {
                    asciiletras.Add(Leer.Substring(fila, L));
                }
                else
                {
                    asciiletras[j] += Leer.Substring(fila, L);
                }
                
                    fila += L;                
            }
            
        }
        string[] Salida = new string[H];
        var SalidaString = new List<string>();
        for (int i = 0; i < introducirTexto.Length; i++)
        {
            int asciiNumero = (int)introducirTexto[i];
           
            if (asciiNumero >= 65 && asciiNumero <= 90)
            {
                asciiNumero -= 65;
            }
            else if(asciiNumero >= 97 && asciiNumero <= 122)
            {
                asciiNumero -= 97;
            }
            else
            {
                asciiNumero = asciiletras.Count - 1;
            }

            SalidaString.Add(asciiletras[asciiNumero]);  
        }
        int SalidaNumero = 0 ;
        for (int i = 0; i < H; i++)   
        {
            
            for (int j = 0; j < SalidaString.Count; j++)
            {

                Salida[i] += SalidaString[j].Substring(SalidaNumero, L);
                
            }
            SalidaNumero += L;
            Console.WriteLine("{0}", Salida[i]);

        }
        // Write an action using Console.WriteLine()
        // To debug: Console.Error.WriteLine("Debug messages...");

        
    }
}

